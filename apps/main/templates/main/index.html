{% extends 'main/layout.html' %}

{% block title %}Main page{% endblock %}

{% block content %}
    <div class="features">
        <h1>{{ title }}</h1>
        <p>easy and fast</p>

        <!-- Подключаем Leaflet -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" defer></script>

        <div id="map" style="height: 500px;"></div>

        <!-- Подключаем osmtogeojson с работающего CDN -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/osmtogeojson/3.0.0/osmtogeojson.min.js" defer></script>

        <script defer>
            document.addEventListener("DOMContentLoaded", function () {
                let map = L.map('map').setView([43.2567, 76.9286], 12); // Алматы

                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; OpenStreetMap contributors'
                }).addTo(map);
            });
        </script>

        <button class="btn btn-warning">Download layers in .shp format</button>
    </div> 
{% endblock %}